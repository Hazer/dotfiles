packages:
  darwin:
    preinstall:
      - |
        echo "Configuring brew"
    brews:
      - "helix"
    casks:
    postinstall:
      - |
        echo "Installed brew packages"

  apk:
    preinstall:
      - |
        echo "Configuring apk packages"
    add:
      - "zsh"
      - "git"
      - "helix"

  apt:
    preinstall:
      - |
        echo "Configuring ubuntu packages"
        echo "Adding mise repository"
        sudo apt update -y && sudo apt install -y gpg sudo wget curl
        sudo install -dm 755 /etc/apt/keyrings
        wget -qO - https://mise.jdx.dev/gpg-key.pub | gpg --dearmor | sudo tee /etc/apt/keyrings/mise-archive-keyring.gpg 1> /dev/null
        echo "deb [signed-by=/etc/apt/keyrings/mise-archive-keyring.gpg arch=amd64] https://mise.jdx.dev/deb stable main" | sudo tee /etc/apt/sources.list.d/mise.list
    repos:
      - "ppa:maveonair/helix-editor"
    install:
      - "helix"
      - "mise"
    postinstall:
      - |
        echo "Configured ubuntu packages"

  dnf:
    preinstall:
      - |
        echo "Configuring fedora packages"
    #repos:
    #  - "https://download.docker.com/linux/fedora/docker-ce.repo"
    #copr:
    #  - "caddy/caddy"
    install:
      - "zsh"
      - "git"
      - "helix"
    postinstall:
      - |
        echo "Installed all packages"

  arch:
    preinstall:
      - |
        echo "Configuring arch"
    pacman:
      - "zsh"
      - "git"
      - "helix"
    aur:
    #  - "helix-git"
    postinstall:
      - |
        echo "Installed all packages"
